<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Laika 0.18.1 + Helium Theme" />
    <title>http4s-fs2-data</title>
    
      <meta name="author" content="Ross A. Baker"/>
    
      <meta name="author" content="Yannick Heiber"/>
    
    
      <meta name="description" content="docs"/>
    
    
      <link rel="icon"  type="image/svg+xml" href="/images/http4s-favicon.svg"/>
    
      <link rel="icon" sizes="32x32" type="image/png" href="/images/http4s-favicon.png"/>
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.207/distr/fira_code.css">
    
    <link rel="stylesheet" type="text/css" href="helium/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="helium/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="site/styles.css" />
    <script src="helium/laika-helium.js"></script>
    
    
    <script> /* for avoiding page load transitions */ </script>
  </head>

  <body>

    <header id="top-bar">

      <div class="row">
        <a id="nav-icon">
          <i class="icofont-laika" title="Navigation">&#xefa2;</i>
        </a>
        
      </div>

      <a class="image-link" href="https://http4s.org"><img src="images/http4s-logo-text-dark.svg"></a>

      <span class="row links"><a class="icon-link svg-link" href="https://github.com/http4s/http4s-fs2-data"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a><a class="icon-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika" title="Chat">&#xeed5;</i></a></span>

    </header>

    <nav id="sidebar">

      <div class="row">
        <a class="icon-link svg-link" href="https://github.com/http4s/http4s-fs2-data"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a><a class="icon-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika" title="Chat">&#xeed5;</i></a>
      </div>

      <ul class="nav-list">
        <li class="level1 active"><a href="#">http4s-fs2-data</a></li>
      </ul>

      <ul class="nav-list">
        <li class="level1 nav-header">Related Projects</li>
        
          <li class="level2"><a href="https://http4s.org/">http4s</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/blaze">blaze</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-armeria">http4s-armeria</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-async-http-client">http4s-async-http-client</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-curl/">http4s-curl</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/http4s-dom/">http4s-dom</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/http4s-finagle/docs/">http4s-finagle</a></li>
        
          <li class="level2"><a href="https://jdk-http-client.http4s.org/">http4s-jdk-http-client</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-jetty/">http4s-jetty</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-netty/">http4s-netty</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-okhttp-client/">http4s-okhttp-client</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/http4s-servlet/">http4s-servlet</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-tomcat/">http4s-tomcat</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/rho/">rho</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-boopickle/">http4s-boopickle</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-fabric/">http4s-fabric</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-play-json/">http4s-play-json</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/http4s-scala-xml/">http4s-scala-xml</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-scala-xml-1/">http4s-scala-xml-1</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/http4s-dropwizard-metrics/">http4s-dropwizard-metrics</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/http4s-prometheus-metrics/">http4s-prometheus-metrics</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-scalatags/">http4s-scalatags</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/http4s-session/">http4s-session</a></li>
        
          <li class="level2"><a href="https://github.com/http4s/http4s-twirl/">http4s-twirl</a></li>
        
          <li class="level2"><a href="https://http4s.github.io/sbt-http4s-org/">sbt-http4s-org</a></li>
        
          <li class="level2"><a href="https://github.com/typelevel/feral/">feral</a></li>
        
      </ul>

    </nav>

    <div id="container">

      <nav id="page-nav">
        <p class="header"><a href="#">http4s-fs2-data</a></p>

        <ul class="nav-list">
          <li class="level1"><a href="#http4s-fs2-data-xml">http4s-fs2-data-xml</a></li>
          <li class="level1"><a href="#http4s-fs2-data-xml-scala">http4s-fs2-data-xml-scala</a></li>
          <li class="level2"><a href="#example-1">Example</a></li>
          <li class="level1"><a href="#http4s-fs2-data-csv">http4s-fs2-data-csv</a></li>
          <li class="level2"><a href="#example-2">Example</a></li>
        </ul>

        <p class="footer"></p>
      </nav>

      <main class="content">

        <h1 id="http4s-fs2-data" class="title">http4s-fs2-data</h1>
        <p><code>http4s-fs2-data</code> provides a set of integration libraries that integrate <code>http4s</code> with the streaming parsers offered by <a href="https://github.com/gnieh/fs2-data">fs2-data</a>.</p>
        
        <h2 id="http4s-fs2-data-xml" class="section">http4s-fs2-data-xml<a class="anchor-link right" href="#http4s-fs2-data-xml"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>Provides basic support for parsing and encoding <code>fs2.data.xml.XmlEvent</code> streams that can be handled in a streaming fashion
        using the pipes and builders <code>fs2-data</code> provides.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">libraryDependencies</span><span> += </span><span class="string-literal">&quot;org.http4s&quot;</span><span> %% </span><span class="string-literal">&quot;http4s-fs2-data-xml&quot;</span><span> % </span><span class="string-literal">&quot;0.1.0&quot;</span></code></pre>
        
        <h2 id="http4s-fs2-data-xml-scala" class="section">http4s-fs2-data-xml-scala<a class="anchor-link right" href="#http4s-fs2-data-xml-scala"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>Provides additional integration with <code>scala-xml</code> to work directly with its <code>Document</code> ans <code>Elem</code> types. To some extent, 
        this module is a drop-in replacement for the <code>http4s-scala-xml</code> module, but it provides additional streaming capabilities
        <code>scala-xml</code> doesn&#39;t.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">libraryDependencies</span><span> += </span><span class="string-literal">&quot;org.http4s&quot;</span><span> %% </span><span class="string-literal">&quot;http4s-fs2-data-xml-scala&quot;</span><span> % </span><span class="string-literal">&quot;0.1.0&quot;</span></code></pre>
        
        <h3 id="example-1" class="section">Example<a class="anchor-link right" href="#example-1"><i class="icofont-laika">&#xef71;</i></a></h3>
        <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.</span><span class="type-name">Async</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">flatMap</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">io</span><span>.</span><span class="identifier">circe</span><span>.</span><span class="identifier">generic</span><span>.</span><span class="identifier">auto</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">http4s</span><span>.</span><span class="identifier">circe</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">http4s</span><span>.</span><span class="identifier">dsl</span><span>.</span><span class="type-name">Http4sDsl</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">http4s</span><span>.{</span><span class="type-name">ApiVersion</span><span> =&gt; </span><span class="identifier">_</span><span>, </span><span class="identifier">_</span><span>}

</span><span class="keyword">import</span><span> </span><span class="identifier">scala</span><span>.</span><span class="identifier">xml</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">val</span><span> </span><span class="type-name">ApiVersion</span><span> = </span><span class="string-literal">&quot;v1&quot;</span><span>
</span><span class="comment">// ApiVersion: String = &quot;v1&quot;
</span><span>
</span><span class="comment">// Docs: http://http4s.org/latest/entity/
</span><span class="keyword">class</span><span> </span><span class="type-name">JsonXmlHttpEndpoint</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]](</span><span class="keyword">implicit</span><span> </span><span class="type-name">F</span><span>: </span><span class="type-name">Async</span><span>[</span><span class="type-name">F</span><span>]) </span><span class="keyword">extends</span><span> </span><span class="type-name">Http4sDsl</span><span>[</span><span class="type-name">F</span><span>] {
  </span><span class="keyword">private</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Person</span><span>(</span><span class="identifier">name</span><span>: </span><span class="type-name">String</span><span>, </span><span class="identifier">age</span><span>: </span><span class="type-name">Int</span><span>)

  </span><span class="comment">/** XML Example for Person:
    *
    * &lt;person&gt;
    *   &lt;name&gt;gvolpe&lt;/name&gt;
    *   &lt;age&gt;30&lt;/age&gt;
    * &lt;/person&gt;
    */</span><span>
  </span><span class="keyword">private</span><span> </span><span class="keyword">object</span><span> </span><span class="type-name">Person</span><span> {
    </span><span class="keyword">def</span><span> </span><span class="declaration-name">fromXml</span><span>(</span><span class="identifier">elem</span><span>: </span><span class="type-name">Document</span><span>): </span><span class="type-name">Person</span><span> = {
      </span><span class="keyword">val</span><span> </span><span class="identifier">name</span><span> = (</span><span class="identifier">elem</span><span> \\ </span><span class="string-literal">&quot;name&quot;</span><span>).</span><span class="identifier">text</span><span>
      </span><span class="keyword">val</span><span> </span><span class="identifier">age</span><span> = (</span><span class="identifier">elem</span><span> \\ </span><span class="string-literal">&quot;age&quot;</span><span>).</span><span class="identifier">text</span><span>
      </span><span class="type-name">Person</span><span>(</span><span class="identifier">name</span><span>, </span><span class="identifier">age</span><span>.</span><span class="identifier">toInt</span><span>)
    }
  }

  </span><span class="keyword">private</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">personXmlDecoder</span><span>: </span><span class="type-name">EntityDecoder</span><span>[</span><span class="type-name">F</span><span>, </span><span class="type-name">Person</span><span>] =
    </span><span class="identifier">org</span><span>.</span><span class="identifier">http4s</span><span>.</span><span class="identifier">fs2data</span><span>.</span><span class="identifier">xml</span><span>.</span><span class="identifier">scalaxml</span><span>.</span><span class="identifier">xmlDocumentDecoder</span><span>.</span><span class="identifier">map</span><span>(</span><span class="type-name">Person</span><span>.</span><span class="identifier">fromXml</span><span>)

  </span><span class="keyword">implicit</span><span> </span><span class="keyword">private</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">jsonXmlDecoder</span><span>: </span><span class="type-name">EntityDecoder</span><span>[</span><span class="type-name">F</span><span>, </span><span class="type-name">Person</span><span>] =
    </span><span class="identifier">jsonOf</span><span>[</span><span class="type-name">F</span><span>, </span><span class="type-name">Person</span><span>].</span><span class="identifier">orElse</span><span>(</span><span class="identifier">personXmlDecoder</span><span>)

  </span><span class="keyword">val</span><span> </span><span class="identifier">service</span><span>: </span><span class="type-name">HttpRoutes</span><span>[</span><span class="type-name">F</span><span>] = </span><span class="type-name">HttpRoutes</span><span>.</span><span class="identifier">of</span><span> {
    </span><span class="keyword">case</span><span> </span><span class="type-name">GET</span><span> -&gt; </span><span class="type-name">Root</span><span> / </span><span class="type-name">ApiVersion</span><span> / </span><span class="string-literal">&quot;media&quot;</span><span> =&gt;
      </span><span class="type-name">Ok</span><span>(
        </span><span class="string-literal">&quot;Send either json or xml via POST method. Eg: </span><span class="escape-sequence">\n</span><span class="string-literal">{</span><span class="escape-sequence">\n</span><span class="string-literal">  </span><span class="escape-sequence">\&quot;</span><span class="string-literal">name</span><span class="escape-sequence">\&quot;</span><span class="string-literal">: </span><span class="escape-sequence">\&quot;</span><span class="string-literal">gvolpe</span><span class="escape-sequence">\&quot;</span><span class="string-literal">,</span><span class="escape-sequence">\n</span><span class="string-literal">  </span><span class="escape-sequence">\&quot;</span><span class="string-literal">age</span><span class="escape-sequence">\&quot;</span><span class="string-literal">: 30</span><span class="escape-sequence">\n</span><span class="string-literal">}</span><span class="escape-sequence">\n</span><span class="string-literal"> or </span><span class="escape-sequence">\n</span><span class="string-literal"> &lt;person&gt;</span><span class="escape-sequence">\n</span><span class="string-literal">  &lt;name&gt;gvolpe&lt;/name&gt;</span><span class="escape-sequence">\n</span><span class="string-literal">  &lt;age&gt;30&lt;/age&gt;</span><span class="escape-sequence">\n</span><span class="string-literal">&lt;/person&gt;&quot;</span><span>
      )

    </span><span class="keyword">case</span><span> </span><span class="identifier">req</span><span> @ </span><span class="type-name">POST</span><span> -&gt; </span><span class="type-name">Root</span><span> / </span><span class="type-name">ApiVersion</span><span> / </span><span class="string-literal">&quot;media&quot;</span><span> =&gt;
      </span><span class="identifier">req</span><span>.</span><span class="identifier">as</span><span>[</span><span class="type-name">Person</span><span>].</span><span class="identifier">flatMap</span><span> { </span><span class="identifier">person</span><span> =&gt;
        </span><span class="type-name">Ok</span><span>(</span><span class="string-literal">s&quot;Successfully decoded person: </span><span class="substitution">${person.name}</span><span class="string-literal">&quot;</span><span>)
      }
  }
}</span></code></pre>
        
        <h2 id="http4s-fs2-data-csv" class="section">http4s-fs2-data-csv<a class="anchor-link right" href="#http4s-fs2-data-csv"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>Provides basic support for parsing and encoding CSV streams that can be handled in a streaming fashion
        using the pipes <code>fs2-data</code> provides. Note that this integration does not expose any implicits, but due to the varity of 
        CSV styles (comma/semicolon/tab for example) it exposes methods that lift the collection of CSV pipes <code>fs2-data</code> offers
        to HTTP level so that all parsing options can conveniently be specified. Implicit encoder and decoder can easily be built
        on top of this if the options are fixed with a certain context.</p>
        
        <h3 id="example-2" class="section">Example<a class="anchor-link right" href="#example-2"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>This example parses a CSV input with headers and outputs the parsed data as a JSON array.</p>
        <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">fs2</span><span>.</span><span class="type-name">Stream</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">fs2</span><span>.</span><span class="identifier">data</span><span>.</span><span class="identifier">csv</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">fs2</span><span>.</span><span class="identifier">data</span><span>.</span><span class="identifier">csv</span><span>.</span><span class="identifier">generic</span><span>.</span><span class="identifier">semiauto</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">http4s</span><span>.</span><span class="identifier">circe</span><span>.</span><span class="type-name">CirceEntityEncoder</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">class</span><span> </span><span class="type-name">CsvStatsHttpEndpoint</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]](</span><span class="keyword">implicit</span><span> </span><span class="type-name">F</span><span>: </span><span class="type-name">Async</span><span>[</span><span class="type-name">F</span><span>]) </span><span class="keyword">extends</span><span> </span><span class="type-name">Http4sDsl</span><span>[</span><span class="type-name">F</span><span>] {
  </span><span class="keyword">private</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Person</span><span>(</span><span class="identifier">name</span><span>: </span><span class="type-name">String</span><span>, </span><span class="identifier">age</span><span>: </span><span class="type-name">Int</span><span>)
  </span><span class="keyword">private</span><span> </span><span class="keyword">object</span><span> </span><span class="type-name">Person</span><span> {
    </span><span class="keyword">implicit</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">decoder</span><span>: </span><span class="type-name">CsvRowDecoder</span><span>[</span><span class="type-name">Person</span><span>, </span><span class="type-name">String</span><span>] = </span><span class="identifier">semiauto</span><span>.</span><span class="identifier">deriveCsvRowDecoder</span><span>
  }
  
  </span><span class="keyword">private</span><span> </span><span class="keyword">implicit</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">personDecoder</span><span>: </span><span class="type-name">EntityDecoder</span><span>[</span><span class="type-name">F</span><span>, </span><span class="type-name">Stream</span><span>[</span><span class="type-name">F</span><span>, </span><span class="type-name">Person</span><span>]] =
    </span><span class="identifier">org</span><span>.</span><span class="identifier">http4s</span><span>.</span><span class="identifier">fs2data</span><span>.</span><span class="identifier">csv</span><span>.</span><span class="identifier">csvDecoderForPipe</span><span>(</span><span class="identifier">decodeUsingHeaders</span><span>[</span><span class="type-name">Person</span><span>]())

  </span><span class="comment">// or more generic if you have a couple of similar inputs
</span><span>  </span><span class="comment">// private implicit def genericDecoder[T](implicit T: CsvRowDecoder[T, String]): EntityDecoder[F, Stream[F, T]] =
</span><span>  </span><span class="comment">//   org.http4s.fs2data.csv.csvDecoderForPipe(decodeUsingHeaders[T]())
</span><span>
  </span><span class="keyword">val</span><span> </span><span class="identifier">service</span><span>: </span><span class="type-name">HttpRoutes</span><span>[</span><span class="type-name">F</span><span>] = </span><span class="type-name">HttpRoutes</span><span>.</span><span class="identifier">of</span><span> { 
    </span><span class="keyword">case</span><span> </span><span class="identifier">req</span><span> @ </span><span class="type-name">POST</span><span> -&gt; </span><span class="type-name">Root</span><span> / </span><span class="string-literal">&quot;csv&quot;</span><span> / </span><span class="string-literal">&quot;toJson&quot;</span><span> =&gt;
      </span><span class="type-name">Ok</span><span>(</span><span class="type-name">Stream</span><span>.</span><span class="identifier">force</span><span>(</span><span class="identifier">req</span><span>.</span><span class="identifier">as</span><span>[</span><span class="type-name">Stream</span><span>[</span><span class="type-name">F</span><span>, </span><span class="type-name">Person</span><span>]]).</span><span class="identifier">compile</span><span>.</span><span class="identifier">toList</span><span>)
  }
}</span></code></pre>

        <hr style="margin-top: 30px"/>
        <footer style="font-size: 90%; text-align: center">
          http4s-fs2-data is a <a href="https://typelevel.org/">Typelevel</a> project distributed under the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache-2.0</a> license.
        </footer>

      </main>

    </div>

  </body>
</html>
